

<!doctype html>
<html lang="en" class="preset-1" data-pc-sidebar-caption="true" data-pc-layout="vertical" data-pc-direction="ltr" dir="ltr" data-pc-theme_contrast="" data-pc-theme="light">
   <!-- [Head] start -->
   <!-- Mirrored from ableproadmin.com/tailwind/dashboard/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 11 Oct 2024 12:06:10 GMT -->
   <head>
      <title>Home | One Card </title>
      <!-- [Meta] -->
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0,minimal-ui">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="description" content="One Card is trending dashboard template made using Bootstrap 5 design framework. One Cardis available in Bootstrap, React, CodeIgniter, Angular,  and .net Technologies.">
      <meta name="keywords" content="Bootstrap admin template, Dashboard UI Kit, Dashboard Template, Backend Panel, react dashboard, angular dashboard">
      <meta name="author" content="Techino Team">
      <!-- [Favicon] icon -->
      <link rel="icon" href="https://ableproadmin.com/tailwindassets/images/favicon.svg" type="image/x-icon">
      <!-- [Font] Family -->
      <link rel="stylesheet" href="../assets/fonts/inter/inter.css" id="main-font-link">
      <!-- [phosphor Icons] https://phosphoricons.com/ -->
      <link rel="stylesheet" href="../assets/fonts/phosphor/duotone/style.css">
      <!-- [Tabler Icons] https://tablericons.com -->
      <link rel="stylesheet" href="../assets/fonts/tabler-icons.min.css">
      <!-- [Feather Icons] https://feathericons.com -->
      <link rel="stylesheet" href="../assets/fonts/feather.css">
      <!-- [Font Awesome Icons] https://fontawesome.com/icons -->
      <link rel="stylesheet" href="../assets/fonts/fontawesome.css">
      <!-- [Material Icons] https://fonts.google.com/icons -->
      <link rel="stylesheet" href="../assets/fonts/material.css">
      <!-- [Template CSS Files] -->
      <link rel="stylesheet" href="../assets/css/style.css" id="main-style-link">
      <style>
        .status-badge {
    padding: 0.5em 1em;
}

/* Change color based on text */
.status-badge:contains("cafe") {
    background-color: #28a745; /* Green for 'cafe' */
    color: #fff;
}

.status-badge:contains("noncafe") {
    background-color: #007bff; /* Blue for 'noncafe' */
    color: #fff;
}

.status-badge:contains("suspended") {
    background-color: #ffc107; /* Yellow for 'suspended' */
    color: #fff;
}

      </style>
   </head>
   <!-- [Head] end --><!-- [Body] Start -->
   <body>
    <a href="#" class="btn btn-primary d-inline-flex align-items-center gap-2" data-pc-toggle="modal" data-pc-target="#customer-edit_add-modal">
        <!-- <i class="ti ti-plus f-18"></i> -->
         Add Student</a>
      <!-- [ Pre-loader ] start -->
      <div class="modal fade" id="customer-modal" data-pc-keyboard="false" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
           <div class="modal-content">
              <div class="modal-header border-0 pb-0">
                 <h5 class="mb-0">Customer Details</h5>
                 <button data-pc-modal-dismiss="#customer-modal" class="text-lg flex items-center justify-center rounded w-7 h-7 text-secondary-500 hover:bg-danger-500/10 hover:text-danger-500"><i class="ti ti-x"></i></button>
              </div>
              <div class="modal-body">
                 <div class="grid grid-cols-12 gap-6">
                    <div class="col-span-12 lg:col-span-4">
                       <div class="card">
                          <div class="card-body relative">
                             <div class="absolute right-0 top-0 p-[25px]"><span class="badge bg-primary-500 text-white">Single</span></div>
                             <div class="text-center mt-3">
                                <div class="chat-avtar inline-flex mx-auto justify-center"><img class="rounded-full w-[60px]" src="../assets/images/user/avatar-5.jpg" alt="User image"></div>
                                <h5 class="mb-0">Aaron Poole</h5>
                                <p class="text-muted text-sm">Manufacturing Director</p>
                                <hr class="my-4 border-secondary-500/10">
                                <div class="grid grid-cols-12 gap-0 divide-x divide-inherit divide-theme-border dark:divide-themedark-border">
                                   <div class="col-span-4">
                                      <h5 class="mb-0">45</h5>
                                      <small class="text-muted">Age</small>
                                   </div>
                                   <div class="col-span-4">
                                      <h5 class="mb-0">86%</h5>
                                      <small class="text-muted">Progress</small>
                                   </div>
                                   <div class="col-span-4">
                                      <h5 class="mb-0">7634</h5>
                                      <small class="text-muted">Visits</small>
                                   </div>
                                </div>
                                <hr class="my-4 border-secondary-500/10">
                                <div class="inline-flex items-center justify-between w-full mb-3">
                                   <i class="ti ti-mail"></i>
                                   <p class="mb-0"><a href="https://ableproadmin.com/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="bddfd2fddad0dcd4d193ded2d0">[email&#160;protected]</a></p>
                                </div>
                                <div class="inline-flex items-center justify-between w-full mb-3">
                                   <i class="ti ti-phone"></i>
                                   <p class="mb-0">+1 (247) 849-6968</p>
                                </div>
                                <div class="inline-flex items-center justify-between w-full mb-3">
                                   <i class="ti ti-map-pin"></i>
                                   <p class="mb-0">Lesotho</p>
                                </div>
                                <div class="inline-flex items-center justify-between w-full">
                                   <i class="ti ti-link"></i> 
                                   <a href="#" class="text-primary-500">
                                      <p class="mb-0">https://anshan.dh.url</p>
                                   </a>
                                </div>
                             </div>
                          </div>
                       </div>
                    </div>
                    <div class="col-span-12 lg:col-span-8">
                       <div class="card">
                          <div class="card-header">
                             <h5>Personal Details</h5>
                          </div>
                          <div class="card-body">
                             <ul class="*:py-4 divide-y divide-inherit border-theme-border dark:border-themedark-border">
                                <li class="list-group-item px-0 pt-0">
                                   <div class="grid grid-cols-12 gap-6">
                                      <div class="col-span-12 md:col-span-6">
                                         <p class="mb-1 text-muted">Full Name</p>
                                         <h6 class="mb-0">Aaron Poole</h6>
                                      </div>
                                      <div class="col-span-12 md:col-span-6">
                                         <p class="mb-1 text-muted">Father Name</p>
                                         <h6 class="mb-0">Mr. Ralph Sabatini</h6>
                                      </div>
                                   </div>
                                </li>
                                <li class="list-group-item px-0">
                                   <div class="grid grid-cols-12 gap-6">
                                      <div class="col-span-12 md:col-span-6">
                                         <p class="mb-1 text-muted">Country</p>
                                         <h6 class="mb-0">Lesotho</h6>
                                      </div>
                                      <div class="col-span-12 md:col-span-6">
                                         <p class="mb-1 text-muted">Zip Code</p>
                                         <h6 class="mb-0">247 849</h6>
                                      </div>
                                   </div>
                                </li>
                                <li class="list-group-item px-0 pb-0">
                                   <p class="mb-1 text-muted">Address</p>
                                   <h6 class="mb-0">507 Sulnek Grove, Tudzovgeh, United States - 37173</h6>
                                </li>
                             </ul>
                          </div>
                       </div>
                       <div class="card mb-0">
                          <div class="card-header">
                             <h5>About me</h5>
                          </div>
                          <div class="card-body">
                             <p class="mb-0">Hello, Iâ€™m Aaron Poole Manufacturing Director based in international company, Void jiidki me na fep juih ced gihhiwi launke cu mig tujum peodpo.</p>
                          </div>
                       </div>
                    </div>
                 </div>
              </div>
           </div>
        </div>
        </div>
      <!-- [ Main Content ] end -->
      <footer class="pc-footer">
         <div class="footer-wrapper container-fluid mx-10">
            <div class="grid grid-cols-12 gap-1.5">
               <div class="col-span-12 sm:col-span-6 my-1">
                  <p class="m-0"></p>
                  One Card&#9829; crafted by Team <a href="#" class="text-theme-bodycolor dark:text-themedark-bodycolor hover:text-primary-500 dark:hover:text-primary-500" target="_blank">Techino</a>
                  <p></p>
               </div>
              
            </div>
         </div>
      </footer>
      <!-- <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"> -->

      <!-- </script> -->
      <!-- <script src="../assets/js/plugins/apexcharts.min.js"></script> -->
      <!-- <script src="../assets/js/widgets/all-earnings-graph.js"></script> -->
      <!-- <script src="../assets/js/widgets/page-views-graph.js"> </script> -->
      <!-- <script src="../assets/js/widgets/total-task-graph.js"></script> -->
      <!-- <script src="../assets/js/widgets/download-graph.js"></script> -->
      <!-- <script src="../assets/js/widgets/customer-rate-graph.js"></script> -->
      <!-- <script src="../assets/js/widgets/tasks-graph.js"></script> -->
      <!-- <script src="../assets/js/widgets/total-income-graph.js"></script> -->
      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
      <script src="../assets/js/plugins/simplebar.min.js"></script>
      <script src="../assets/js/plugins/popper.min.js"></script>
      <script src="../assets/js/icon/custom-icon.js"></script>
      <script src="../assets/js/plugins/feather.min.js"></script>
      <script src="../assets/js/component.js"></script>
      <script src="../assets/js/theme.js"></script>
      <script src="../assets/js/script.js"></script>
     
      <script>layout_change('false');</script><script>layout_theme_contrast_change('false');</script>
      <script>change_box_container('false');</script><script>layout_caption_change('true');</script>
      <script>layout_rtl_change('false');</script><script>preset_change('preset-1');</script>
      <script>main_layout_change('vertical');</script>
      <script>
async function fetchStudents() {
    try {
        const response = await fetch('http://localhost:5000/students'); // Adjust the URL as needed
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        const students = await response.json(); // Parse the JSON response

        const studentBody = document.getElementById('studentBody');
        studentBody.innerHTML = ''; // Clear the table body

        students.forEach((student, index) => {
            // Construct the photo path from the student's photoPath or set a default
            const photoPath = student.photoPath ? 
                `http://localhost:5000/${student.photoPath}` : 
                `http://localhost:5000/photos/avatar-1.jpg`; // Default photo

            const row = document.createElement('tr');
            row.innerHTML = `
                <td>
                    <div class="form-check mb-2">
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault${index}"> 
                    </div>
                </td>
                <td>${index + 1}</td>
                <td>
                    <div class="flex items-center">
                        <div class="shrink-0 w-10 h-10">
                            <img src="${photoPath}" class="w-10 h-10 object-cover rounded-full" alt="${student.name} photo">
                        </div>
                        <div class="grow ml-3">
                            <h6 class="mb-0">${student.name}</h6>
                            <p class="text-muted text-sm mb-0">${student.department}</p>
                        </div>
                    </div>
                </td>
                <td>${student.contact}</td>
                <td>${student.id}</td>
                <td>
                    <span class="badge bg-success-500/10 text-success-500 rounded-full text-sm">${student.status}</span>
                </td>
                <td>
                    <span class="badge bg-success-500/10 text-success-500 rounded-full text-sm">${student.meal}</span>
                </td>
                <td class="text-center">
                    <ul class="flex items-center mr-auto mb-0">
                        <li class="list-inline-item">
                            <a href="#" class="w-8 h-8 rounded-xl inline-flex items-center justify-center btn-link-secondary btn-pc-default" data-pc-toggle="modal" data-pc-target="#student-id_card-modal">
                                <i class="ti ti-eye text-lg leading-none"></i>
                            </a>
                        </li>
                        <li class="list-inline-item">
                            <a href="#" class="w-8 h-8 rounded-xl inline-flex items-center justify-center btn-link-success btn-pc-default" data-pc-toggle="modal" data-pc-target="#customer-edit_add-modal">
                                <i class="ti ti-edit-circle text-lg leading-none"></i>
                            </a>
                        </li>
                        <li class="list-inline-item">
                            <a href="#" class="w-8 h-8 rounded-xl inline-flex items-center justify-center btn-link-danger btn-pc-default">
                                <i class="ti ti-trash text-lg leading-none"></i>
                            </a>
                        </li>
                    </ul>
                </td>
            `;
            studentBody.appendChild(row); // Append the row to the table body
        });
    } catch (error) {
        console.error('Error fetching students:', error);
    }
}

                       // Fetch students when the DOM is fully loaded
                       document.addEventListener('DOMContentLoaded', (event) => {
                           fetchStudents();
                       });

//Generate id

// document.getElementById("generateIdsButton").addEventListener("click", async function (event) {
//   event.preventDefault(); // Prevent the default link behavior

//   // Clear any previous message
//   const statusMessage = document.getElementById("statusMessage");
//   statusMessage.innerText = "Generating IDs, please wait...";

//   try {
//     // Send a GET request to the server to generate all ID cards
//     const response = await fetch('/generate-all-cards');

//     if (response.ok) {
//       // Update status message if the request is successful
//       const result = await response.text();
//       statusMessage.innerText = result;
//     } else {
//       // Update status message if there was an error
//       statusMessage.innerText = "Failed to generate ID cards. Please try again.";
//     }
//   } catch (error) {
//     // Handle network errors
//     statusMessage.innerText = "An error occurred. Please check your connection and try again.";
//     console.error("Error:", error);
//   }
// });

$(document).ready(function() {
    $('#generateIdsButton').click(function(event) {
        event.preventDefault(); // Prevent the default anchor behavior

        // Send a GET request to generate ID cards
        $.ajax({
            url: 'http://localhost:5000/generate-id-cards', // Adjust the URL based on your backend
            type: 'GET',
            success: function(response) {
                alert(response); // Show success message
            },
            error: function(xhr, status, error) {
                console.error('Error generating ID cards:', error);
                alert('Failed to generate ID cards. Please try again.');
            }
        });
    });
});

      </script>
   </body>
</html>